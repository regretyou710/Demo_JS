<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM增刪改</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script>
        window.onload = function () {
            {
                //創建一個"桃園"節點，添加到#city下
                myClick('btn01', function () {
                    //創建桃園節點<li>桃園</li>
                    //1. 創建li元素節點
                    /*
                     document.createElement()
                     - 可以用於創建一個元素節點對象，它需要一個標籤名作為參數，
                       將會根據該標籤名創建元素節點對象，並將創建對象作為返回值返回
                    */
                    var li = document.createElement('li');
                    //alert(li);

                    //2. 創建桃園文本節點
                    /*
                     document.createTextNode()
                     - 可以用來創建一個文本節點對象，需要一個文本內容作為參數，
                       將會根據該內容創建文本節點，並將新的節點返回
                    */
                    var tyText = document.createTextNode('桃園');
                    //alert(text);

                    //3. 將桃園文本節點設置為li元素節點的子節點
                    /*
                     appendChild()
                     - 向一個父節點添加一個新的子節點
                     - 用法:父節點.appendChild(子節點);
                    */
                    li.appendChild(tyText); // 目前只在內存中添加，未對頁頁面添加

                    //獲取id為city元素節點
                    var city = document.getElementById('city');

                    //將創建好的節點添加到city下
                    city.appendChild(li);
                });
            }


            {
                //將"桃園"節點插入到#tp前面
                myClick('btn02', function () {
                    //創建一個內容為桃園li節點
                    var li = document.createElement('li');
                    var tyText = document.createTextNode('桃園');
                    li.appendChild(tyText);

                    //獲取id為tp的節點
                    var tp = document.getElementById('tp');

                    /*
                     insertBefore()
                     - 可以在指定的子節點前插入新的子節點
                     - 語法:父節點.insertBefore(新節點,舊節點);
                    */
                    //獲取city元素節點
                    var city = document.getElementById('city');

                    city.insertBefore(li, tp);
                });
            }


            {
                //使用"桃園"節點替換＃tp節點
                myClick('btn03', function () {
                    //創建一個內容為桃園li節點
                    var li = document.createElement('li');
                    var tyText = document.createTextNode('桃園');
                    li.appendChild(tyText);

                    //獲取id為tp的節點
                    var tp = document.getElementById('tp');

                    /*
                     replaceChild()
                     - 可以使用指定的子節點替換已有的子節點
                     - 語法:父節點.replaceChild(新節點,舊節點);
                    */
                    //獲取city元素節點
                    var city = document.getElementById('city');

                    city.replaceChild(li, tp);
                });
            }


            {
                //刪除#tp節點
                myClick('btn04', function () {
                    //獲取id為tp的節點
                    var tp = document.getElementById('tp');

                    //方式一:
                    /*
                     removeChild()
                     - 可以刪除一個子節點
                     - 語法:父節點.removeChild(子節點);
                    */
                    //獲取city元素節點
                    var city = document.getElementById('city');

                    //city.removeChild(tp);


                    //方式二:
                    //在沒有明確知道父元素節點是誰的情況下使用removeChild()
                    //從子節點找到父節點然後再使用removeChild()
                    tp.parentNode.removeChild(tp);
                });
            }


            {
                //讀取#city內的HTML代碼 
                myClick('btn05', function () {
                    //獲取city元素節點
                    var city = document.getElementById('city');
                    alert(city.innerHTML);
                });
            }


            {
                //設置#tp內的HTML代碼
                myClick('btn06', function () {
                    //獲取id為tp的節點
                    var tp = document.getElementById('tp');
                    tp.innerHTML = '基隆';
                });
            }


            {
                //用另一種方法創建一個"桃園"節點，添加到#city下
                myClick('btn07', function () {
                    //獲取city元素節點
                    var city = document.getElementById('city');

                    /*
                     使用innserHTML也可以完成DOM的增刪改的相關操作
                     note:
                          - 1. 使用創建節點再添加的方式的異動幅度較小
                          - 2. 使用innerHTML方式添加會將原本的所有刪除後再添加，異動浮動較大
                          - 所以一般會兩種方式結合使用
                    */
                    city.innerHTML += '<li>桃園</li>';
                });
            }


            {
                //兩種方式結合使用，創建一個"桃園"節點，添加到#city下
                myClick('btn08', function () {
                    //創建li元素節點
                    var li = document.createElement('li');

                    //設置li文本內容
                    li.innerHTML = '桃園';

                    //獲取city元素節點
                    var city = document.getElementById('city');

                    //將創建好的li節點添加到city下
                    city.appendChild(li);
                });
            }
        };

        function myClick(idStr, fun) {
            var btn = document.getElementById(idStr);
            btn.onclick = fun;
        };
    </script>
</head>

<body>
    <div id="total">
        <div class="inner">
            <p>
                你喜歡哪個城市?
            </p>
            <ul id="city">
                <li id="tp">台北</li>
                <li>台中</li>
                <li>台南</li>
                <li>高雄</li>
            </ul>
        </div>
    </div>
    <div id="btnList">
        <div><button id="btn01">創建一個"桃園"節點，添加到#city下</button></div>
        <div><button id="btn02">將"桃園"節點插入到#tp前面</button></div>
        <div><button id="btn03">使用"桃園"節點替換＃tp節點</button></div>
        <div><button id="btn04">刪除#tp節點</button></div>
        <div><button id="btn05">讀取#city內的HTML代碼</button></div>
        <div><button id="btn06">設置#tp內的HTML代碼</button></div>
        <div><button id="btn07">用另一種方法創建一個"桃園"節點，添加到#city下</button></div>
        <div><button id="btn08">兩種方式結合使用，創建一個"桃園"節點，添加到#city下</button></div>
    </div>
</body>

</html>