<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON</title>
    <script type="text/javascript" src="js/json2.js"></script>
    <script>
        /*
         JSON
         - JS中的對象只有JS自己認識，其他的語言都不認識
         - JSON就是一個特殊格式的字符串，這個字符串可以被任意的語言所識別，
           並且可以轉換為任意語言中的對象，JSON在開發中主要用來數據的交互

         - JSON:JavaScript Object Notation JS對象表示法
         - JSON和JS對象的格式一樣，只不過JSON字符串中的屬性名必須加雙引號
         其他的和JS語法一致
         JSON分類：
           1. 對象 {}
           2. 數組 []
          
         JSON中允許的值：
           1. 字符串
           2. 數值
           3. 布爾值
           4. null
           5. 對象
           6. 數組
        */

        //創建JSON對象
        var obj = '{"name":"孫悟空","age":18,"gender":"男"}';

        //創建JSON陣列
        var arr = '[1,2,3,"hello",true]';

        var obj2 = '{"arr":[1,2,3]}';

        var arr2 = '[{"name":"孫悟空","age":18,"gender":"男"},{"name":"孫悟空","age":18,"gender":"男"}]';

        /*
         - 將JSON字符串轉換為JS中的對象
         - 在JS中，為我們提供了一個工具類，就叫JSON
           這個對象可以幫助我們將一個JSON轉換為JS對象，也可以將一個JS對象轉換為JSON
        */
        //console.log(JSON);
        var json = '{"name":"孫悟空","age":18,"gender":"男"}';

        /*
         json --> js對象
         JSON.parse()方法:
          - 可以將JSON字符串轉換為js對象
          - 它需要一個JSON字符串作為參數，會將該字符串轉換為JS對象并返回
        */
        var o = JSON.parse(json);
        //console.log(o.gender);

        var o2 = JSON.parse(arr);
        //console.log(o2[1]);

        /*
         JS對象 ---> JSON
         JSON.stringify()方法:
          - 可以將一個JS對象轉換為JSON字符串
          - 需要一個js對象作為參數，會返回一個JSON字符串
        */
        var obj3 = {name:"猪八戒" , age:28 , gender:"男"};
        var str = JSON.stringify(obj3);
        console.log(str);

        /*
         JSON這個對象在IE7及以下的瀏覽器中不支持，所以在這些瀏覽器中調用時會報錯
         如果需要兼容IE7及以下的JSON操作，則可透過引入一個外部的js文件來處理
        */
    </script>
</head>

<body>
</body>

</html>